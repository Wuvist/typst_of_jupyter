(executable
 (public_name typst_of_jupyter_main)
 (name Typst_of_jupyter_main)
 (modules Typst_of_jupyter_main Typst_of_notebook)
 (preprocess (pps ppx_inline_test))
 (libraries base core core_unix core_unix.filename_unix base64 omd notebook typst))

(library
 (name notebook)
 (modules Notebook Json_util)
 (preprocess (pps ppx_inline_test ppx_sexp_value))
 (inline_tests)
 (libraries util
  base omd yojson parsexp ppx_sexp_value))

(library
 (name typst)
 (modules Typst)
 (libraries util
 base omd))

(library
 (name util)
 (modules Util)
 (libraries base))