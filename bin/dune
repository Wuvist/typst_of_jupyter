(executable
 (public_name typst_of_jupyter)
 (name typst_of_jupyter)
 (modules typst_of_jupyter typst)
 (preprocess (pps ppx_inline_test))
 (libraries base omd notebook_parse))

(library
 (name notebook_parse)
 (modules Json_util Parse_jupyter)
 (preprocess (pps ppx_inline_test ppx_sexp_value))
 (inline_tests)
 (libraries util
  base omd yojson ppx_sexp_value))

(library
 (name util)
 (modules Util))